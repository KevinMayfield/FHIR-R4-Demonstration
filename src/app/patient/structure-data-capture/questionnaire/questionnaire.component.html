<mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Definition
        </mat-panel-title>
        <mat-panel-description>
            {{questionnaire?.description}}
        </mat-panel-description>
    </mat-expansion-panel-header>
    <mat-tree  [dataSource]="dataSource" [treeControl]="treeControl" >

        <mat-tree-node *matTreeNodeDef="let item" matTreeNodeToggle>
            <li class="mat-tree-node">
                <!-- use a disabled button to provide padding for tree leaf -->


                <mat-expansion-panel hideToggle style="width: 100%">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <button mat-icon-button disabled></button>
                            {{item.text}}

                        </mat-panel-title>
                        <mat-panel-description>
                            <mat-chip-listbox>
                                <span *ngIf="item.code !== undefined"> <mat-chip>{{item.code[0].display}} {{item.code[0].code}}</mat-chip> </span>
                            </mat-chip-listbox>
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <mat-chip-listbox>
                        <br/>
                        <span *ngIf="item.type !== undefined"> <mat-chip>{{item.type}}</mat-chip> </span>
                        <span *ngIf="item.initial !== undefined">
                                <span *ngFor="let initial of item.initial">
                                    <mat-chip *ngIf="initial.valueQuantity !== undefined">{{initial.valueQuantity.code}}</mat-chip>
                                </span>
                            </span>
                    </mat-chip-listbox>
                </mat-expansion-panel>

            </li>
        </mat-tree-node>
        <mat-nested-tree-node *matTreeNodeDef="let item;when: hasChild" >

                <div class="mat-tree-node">

                    <mat-expansion-panel hideToggle style="width: 100%">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <button mat-icon-button matTreeNodeToggle
                                        [attr.aria-label]="'toggle ' + item.text">
                                    <mat-icon class="mat-icon-rtl-mirror">
                                        {{treeControl.isExpanded(item) ? 'expand_more' : 'chevron_right'}}
                                    </mat-icon>
                                </button>
                                {{item.text}}
                            </mat-panel-title>
                            <mat-panel-description>
                                <mat-panel-description>
                                    <mat-chip-listbox>
                                        <span *ngIf="item.code !== undefined"> <mat-chip>{{item.code[0].display}} {{item.code[0].code}}</mat-chip> </span>
                                    </mat-chip-listbox>
                                </mat-panel-description>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-chip-listbox>
                            <span *ngIf="item.type !== undefined"> <mat-chip>{{item.type}}</mat-chip> </span>
                            <span *ngIf="item.initial !== undefined">
                                <span *ngFor="let initial of item.initial">
                                    <mat-chip *ngIf="initial.valueQuantity !== undefined">{{initial.valueQuantity.code}}</mat-chip>
                                </span>
                            </span>
                        </mat-chip-listbox>
                    </mat-expansion-panel>

                </div>
                <ul [class.example-tree-invisible]="!treeControl.isExpanded(item)"
                     role="group">

                    <ng-container matTreeNodeOutlet></ng-container>
                </ul>

        </mat-nested-tree-node>
    </mat-tree>
</mat-expansion-panel>
