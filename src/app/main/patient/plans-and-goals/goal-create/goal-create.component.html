<h2 mat-dialog-title>Add Goal</h2>
<mat-dialog-content #chart >

    <form class="example-form">
        <mat-form-field class="example-half-width">
            <mat-label>Status</mat-label>
            <mat-select required name="goalStatus" [(ngModel)]="goalStatus"  (selectionChange)="checkSubmit()">
                <mat-option *ngFor="let stat of statuses" [value]="stat.code">
                    {{stat.display}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        &nbsp;
        <mat-form-field class="example-half-width">
            <mat-label>Achievement Status</mat-label>
            <mat-select name="achievement" [(ngModel)]="achievement"  (selectionChange)="checkSubmit()">
                <mat-option *ngFor="let stat of achievements" [value]="stat">
                    {{stat.display}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="example-half-width">
            <mat-label>Category</mat-label>
            <mat-select multiple name="category" [(ngModel)]="category" (selectionChange)="checkSubmit()">
                <mat-option *ngFor="let stat of categories" [value]="stat">
                    {{stat.display}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="example-half-width">
            <mat-label>Priority</mat-label>
            <mat-select name="priority" [(ngModel)]="priority" (selectionChange)="checkSubmit()">
                <mat-option *ngFor="let stat of priorities" [value]="stat">
                    {{stat.display}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="example-half-width">
            <input #searchBoxDescription matInput placeholder="Description" (keyup)="searchDescription(searchBoxDescription.value)" [matAutocomplete]="autoDescription">
            <mat-autocomplete #autoDescription="matAutocomplete" (optionSelected)="selectedDescription($event)" [displayWith]="dlgSrv.getDisplay">
                <mat-option *ngFor="let description of description$ | async" [value]="description" >
                    {{dlgSrv.getDisplay(description)}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>
        &nbsp;
        <mat-form-field class="example-half-width">
            <mat-label>Start date</mat-label>
            <input matInput [matDatepicker]="start" [(ngModel)]="goalStart">
            <mat-hint>DD/MM/YYYY</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="start"></mat-datepicker-toggle>
            <mat-datepicker #start></mat-datepicker>
        </mat-form-field>
        <div class="example-full-width">
            <mat-form-field class="example-half-width">
                <input #searchBoxTarget matInput placeholder="Target" (keyup)="searchTarget(searchBoxTarget.value)" [matAutocomplete]="autoTarget">
                <mat-autocomplete #autoTarget="matAutocomplete" (optionSelected)="selectedTarget($event)" [displayWith]="dlgSrv.getDisplay">
                    <mat-option *ngFor="let target of target$ | async" [value]="target" >
                        {{dlgSrv.getDisplay(target)}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <mat-form-field class="example-half-width">
                <mat-label>Target State</mat-label>
                <input matInput name="targetValue" [(ngModel)]="targetValue">
                <mat-hint align="end">The target value to be achieved</mat-hint>
            </mat-form-field>
        </div>
    </form>

</mat-dialog-content>
<mat-dialog-actions>
    <button mat-raised-button color="accent" [mat-dialog-close]="true" >Cancel</button>
    <button mat-raised-button color="accent" [disabled]="disabled" (click)="submit()">Submit</button>
</mat-dialog-actions>
